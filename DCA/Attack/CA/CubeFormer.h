#pragma once

enum class CubeSearchStrategy { Iterate, ByDimension, Random };

class CubeFormer
{
public:
	CubeFormer() = default;
	~CubeFormer() = default;

	uint32_t get_start_cube(int dimension);
	uint32_t next_cube(uint32_t number);
	uint32_t get_end_cube(int dimension);
	uint32_t prev_cube(uint32_t number);
	int get_end_flag(int dimension);
	uint32_t rand_cube();
	uint32_t rand_cube(int lowerDimension, int upperDimension);

private:
	
	uint32_t start_cubes[32] = { 
		0, 1, 3, 7, 15, 31, 63, 127, 255, 511, 1023, 2047, 4095, 8191, 16383, 32767,
		65535, 131071, 262143, 524287, 1048575, 2097151, 4194303, 8388607, 16777215,
		33554431, 67108863, 134217727, 268435455, 536870911, 1073741823, 2147483647
	};

	uint32_t end_cubes[32] = {
		0, 2147483648, 3221225472, 3758096384, 4026531840, 4160749568, 4227858432, 
		4261412864, 4278190080, 4286578688, 4290772992, 4292870144, 4293918720, 
		4294443008, 4294705152, 4294836224, 4294901760, 4294934528, 4294950912, 
		4294959104, 4294965248, 4294966272, 4294966784, 4294967040, 4294967168,
		4294967232, 4294967264, 4294967280, 4294967288, 4294967292, 4294967294, 4294967295
	};

	int end_flag[32] = {
		0, 32, 496, 4960, 35960, 201376, 906142, 3365856, 10518300, 28048800,
		64512240, 129024480, 225792840, 347373600, 471435600, 565722720, 601080390,
		565722720, 471435600, 347373600, 225792840, 129024480, 64512240, 28048800,
		10518300, 3365856, 906142, 201376, 35960, 4960, 496, 32
	};

};
